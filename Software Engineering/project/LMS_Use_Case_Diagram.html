<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>LMS Use Case Diagram</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    background: #f0f4f8;
    font-family: 'Georgia', serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 30px 20px;
    min-height: 100vh;
  }
  h1 {
    font-size: 22px;
    color: #1a2e4a;
    margin-bottom: 6px;
    letter-spacing: 1px;
    text-transform: uppercase;
    font-weight: bold;
  }
  p.subtitle {
    font-size: 13px;
    color: #6b7c93;
    margin-bottom: 28px;
    font-style: italic;
  }
  svg {
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 24px rgba(0,0,0,0.10);
    display: block;
  }

  /* Legend */
  .legend {
    display: flex;
    gap: 28px;
    margin-top: 20px;
    background: white;
    border-radius: 8px;
    padding: 12px 24px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.07);
    font-size: 13px;
    color: #444;
    flex-wrap: wrap;
    justify-content: center;
  }
  .legend-item { display: flex; align-items: center; gap: 8px; }
  .legend-dot { width: 14px; height: 14px; border-radius: 50%; }
  .note {
    margin-top: 14px;
    font-size: 12px;
    color: #8a9ab0;
    font-style: italic;
    text-align: center;
  }
</style>
</head>
<body>

<h1>Library Management System</h1>
<p class="subtitle">Use Case Diagram — UML</p>

<svg width="1000" height="860" viewBox="0 0 1000 860" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#94a3b8"/>
    </marker>
    <marker id="arrow-include" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#6366f1"/>
    </marker>
    <marker id="arrow-extend" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#f59e0b"/>
    </marker>
    <filter id="shadow" x="-10%" y="-10%" width="120%" height="120%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#00000022"/>
    </filter>
  </defs>

  <!-- ===================== SYSTEM BOUNDARY ===================== -->
  <!-- Main system box -->
  <rect x="200" y="60" width="590" height="730" rx="14"
    fill="#f8faff" stroke="#2563eb" stroke-width="2" stroke-dasharray="8,4"/>
  <text x="495" y="90" text-anchor="middle" font-size="15" font-weight="bold"
    fill="#2563eb" font-family="Georgia, serif" letter-spacing="1">LIBRARY MANAGEMENT SYSTEM</text>

  <!-- Admin panel sub-boundary -->
  <rect x="640" y="110" width="130" height="370" rx="10"
    fill="#fef9ec" stroke="#f59e0b" stroke-width="1.5" stroke-dasharray="5,3"/>
  <text x="705" y="128" text-anchor="middle" font-size="10" font-weight="bold"
    fill="#b45309" font-family="Georgia, serif">/admin portal</text>

  <!-- Public login sub-boundary -->
  <rect x="210" y="110" width="410" height="65" rx="8"
    fill="#f0fdf4" stroke="#22c55e" stroke-width="1.5" stroke-dasharray="5,3"/>
  <text x="415" y="128" text-anchor="middle" font-size="10" font-weight="bold"
    fill="#15803d" font-family="Georgia, serif">Public Login Page (/login)</text>

  <!-- ===================== ACTORS ===================== -->

  <!-- MEMBER actor (left) -->
  <g transform="translate(68, 290)">
    <circle cx="0" cy="-22" r="16" fill="none" stroke="#0f766e" stroke-width="2.5"/>
    <line x1="0" y1="-6" x2="0" y2="28" stroke="#0f766e" stroke-width="2.5"/>
    <line x1="-18" y1="6" x2="18" y2="6" stroke="#0f766e" stroke-width="2.5"/>
    <line x1="0" y1="28" x2="-14" y2="52" stroke="#0f766e" stroke-width="2.5"/>
    <line x1="0" y1="28" x2="14" y2="52" stroke="#0f766e" stroke-width="2.5"/>
    <text x="0" y="72" text-anchor="middle" font-size="13" font-weight="bold"
      fill="#0f766e" font-family="Georgia, serif">Member</text>
  </g>

  <!-- LIBRARIAN actor (left-center) -->
  <g transform="translate(68, 530)">
    <circle cx="0" cy="-22" r="16" fill="none" stroke="#7c3aed" stroke-width="2.5"/>
    <line x1="0" y1="-6" x2="0" y2="28" stroke="#7c3aed" stroke-width="2.5"/>
    <line x1="-18" y1="6" x2="18" y2="6" stroke="#7c3aed" stroke-width="2.5"/>
    <line x1="0" y1="28" x2="-14" y2="52" stroke="#7c3aed" stroke-width="2.5"/>
    <line x1="0" y1="28" x2="14" y2="52" stroke="#7c3aed" stroke-width="2.5"/>
    <text x="0" y="72" text-anchor="middle" font-size="13" font-weight="bold"
      fill="#7c3aed" font-family="Georgia, serif">Librarian</text>
  </g>

  <!-- ADMIN actor (right) -->
  <g transform="translate(935, 295)">
    <circle cx="0" cy="-22" r="16" fill="none" stroke="#b45309" stroke-width="2.5"/>
    <line x1="0" y1="-6" x2="0" y2="28" stroke="#b45309" stroke-width="2.5"/>
    <line x1="-18" y1="6" x2="18" y2="6" stroke="#b45309" stroke-width="2.5"/>
    <line x1="0" y1="28" x2="-14" y2="52" stroke="#b45309" stroke-width="2.5"/>
    <line x1="0" y1="28" x2="14" y2="52" stroke="#b45309" stroke-width="2.5"/>
    <text x="0" y="72" text-anchor="middle" font-size="13" font-weight="bold"
      fill="#b45309" font-family="Georgia, serif">Administrator</text>
  </g>

  <!-- ===================== USE CASES ===================== -->

  <!-- Helper: ellipse style reused via JS below, or just inline -->

  <!-- ---- PUBLIC LOGIN AREA ---- -->
  <!-- Member Login -->
  <ellipse cx="330" cy="143" rx="100" ry="22" fill="#dcfce7" stroke="#22c55e" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="330" y="148" text-anchor="middle" font-size="12" fill="#166534" font-family="Georgia,serif">Member Login</text>

  <!-- Staff Login -->
  <ellipse cx="500" cy="143" rx="100" ry="22" fill="#dcfce7" stroke="#22c55e" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="500" y="148" text-anchor="middle" font-size="12" fill="#166534" font-family="Georgia,serif">Staff Login</text>

  <!-- ---- MEMBER USE CASES ---- -->
  <ellipse cx="380" cy="230" rx="110" ry="22" fill="#ccfbf1" stroke="#0d9488" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="380" y="235" text-anchor="middle" font-size="12" fill="#0f766e" font-family="Georgia,serif">Search Catalog (OPAC)</text>

  <ellipse cx="380" cy="290" rx="110" ry="22" fill="#ccfbf1" stroke="#0d9488" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="380" y="295" text-anchor="middle" font-size="12" fill="#0f766e" font-family="Georgia,serif">View Book Details</text>

  <ellipse cx="380" cy="350" rx="110" ry="22" fill="#ccfbf1" stroke="#0d9488" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="380" y="355" text-anchor="middle" font-size="12" fill="#0f766e" font-family="Georgia,serif">Place Hold / Reserve</text>

  <ellipse cx="380" cy="410" rx="110" ry="22" fill="#ccfbf1" stroke="#0d9488" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="380" y="415" text-anchor="middle" font-size="12" fill="#0f766e" font-family="Georgia,serif">View Borrowing History</text>

  <ellipse cx="380" cy="470" rx="110" ry="22" fill="#ccfbf1" stroke="#0d9488" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="380" y="475" text-anchor="middle" font-size="12" fill="#0f766e" font-family="Georgia,serif">View & Pay Fines</text>

  <ellipse cx="380" cy="530" rx="110" ry="22" fill="#ccfbf1" stroke="#0d9488" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="380" y="535" text-anchor="middle" font-size="12" fill="#0f766e" font-family="Georgia,serif">Request Renewal</text>

  <!-- ---- LIBRARIAN USE CASES ---- -->
  <ellipse cx="555" cy="230" rx="110" ry="22" fill="#ede9fe" stroke="#7c3aed" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="555" y="235" text-anchor="middle" font-size="12" fill="#5b21b6" font-family="Georgia,serif">Issue Book</text>

  <ellipse cx="555" cy="290" rx="110" ry="22" fill="#ede9fe" stroke="#7c3aed" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="555" y="295" text-anchor="middle" font-size="12" fill="#5b21b6" font-family="Georgia,serif">Return Book</text>

  <ellipse cx="555" cy="350" rx="110" ry="22" fill="#ede9fe" stroke="#7c3aed" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="555" y="355" text-anchor="middle" font-size="12" fill="#5b21b6" font-family="Georgia,serif">Manage Members</text>

  <ellipse cx="555" cy="410" rx="110" ry="22" fill="#ede9fe" stroke="#7c3aed" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="555" y="415" text-anchor="middle" font-size="12" fill="#5b21b6" font-family="Georgia,serif">Add / Edit Catalog</text>

  <ellipse cx="555" cy="470" rx="110" ry="22" fill="#ede9fe" stroke="#7c3aed" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="555" y="475" text-anchor="middle" font-size="12" fill="#5b21b6" font-family="Georgia,serif">Record Fine Payment</text>

  <ellipse cx="555" cy="530" rx="110" ry="22" fill="#ede9fe" stroke="#7c3aed" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="555" y="535" text-anchor="middle" font-size="12" fill="#5b21b6" font-family="Georgia,serif">Approve Renewal</text>

  <ellipse cx="555" cy="590" rx="110" ry="22" fill="#ede9fe" stroke="#7c3aed" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="555" y="595" text-anchor="middle" font-size="12" fill="#5b21b6" font-family="Georgia,serif">Send Notifications</text>

  <!-- ---- ADMIN USE CASES (inside /admin portal) ---- -->
  <ellipse cx="705" cy="155" rx="82" ry="20" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="705" y="160" text-anchor="middle" font-size="11" fill="#92400e" font-family="Georgia,serif">Admin Login</text>

  <ellipse cx="705" cy="210" rx="82" ry="20" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="705" y="215" text-anchor="middle" font-size="11" fill="#92400e" font-family="Georgia,serif">Manage User Accounts</text>

  <ellipse cx="705" cy="260" rx="82" ry="20" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="705" y="265" text-anchor="middle" font-size="11" fill="#92400e" font-family="Georgia,serif">Configure System Rules</text>

  <ellipse cx="705" cy="310" rx="82" ry="20" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="705" y="315" text-anchor="middle" font-size="11" fill="#92400e" font-family="Georgia,serif">View Audit Logs</text>

  <ellipse cx="705" cy="360" rx="82" ry="20" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="705" y="365" text-anchor="middle" font-size="11" fill="#92400e" font-family="Georgia,serif">Generate Reports</text>

  <ellipse cx="705" cy="410" rx="82" ry="20" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="705" y="415" text-anchor="middle" font-size="11" fill="#92400e" font-family="Georgia,serif">Waive Fines</text>

  <ellipse cx="705" cy="460" rx="82" ry="20" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="705" y="465" text-anchor="middle" font-size="11" fill="#92400e" font-family="Georgia,serif">Dashboard & Analytics</text>

  <!-- ===================== ASSOCIATIONS (actor → use case) ===================== -->

  <!-- Member → login -->
  <line x1="84" y1="268" x2="225" y2="155" stroke="#0d9488" stroke-width="1.4"/>
  <!-- Member → search -->
  <line x1="84" y1="268" x2="270" y2="230" stroke="#0d9488" stroke-width="1.4"/>
  <!-- Member → view details -->
  <line x1="84" y1="268" x2="270" y2="290" stroke="#0d9488" stroke-width="1.4"/>
  <!-- Member → place hold -->
  <line x1="84" y1="268" x2="270" y2="350" stroke="#0d9488" stroke-width="1.4"/>
  <!-- Member → borrowing history -->
  <line x1="84" y1="268" x2="270" y2="410" stroke="#0d9488" stroke-width="1.4"/>
  <!-- Member → fines -->
  <line x1="84" y1="268" x2="270" y2="470" stroke="#0d9488" stroke-width="1.4"/>
  <!-- Member → renewal -->
  <line x1="84" y1="268" x2="270" y2="530" stroke="#0d9488" stroke-width="1.4"/>

  <!-- Librarian → staff login -->
  <line x1="84" y1="508" x2="400" y2="155" stroke="#7c3aed" stroke-width="1.4"/>
  <!-- Librarian → issue book -->
  <line x1="84" y1="508" x2="445" y2="230" stroke="#7c3aed" stroke-width="1.4"/>
  <!-- Librarian → return book -->
  <line x1="84" y1="508" x2="445" y2="290" stroke="#7c3aed" stroke-width="1.4"/>
  <!-- Librarian → manage members -->
  <line x1="84" y1="508" x2="445" y2="350" stroke="#7c3aed" stroke-width="1.4"/>
  <!-- Librarian → catalog -->
  <line x1="84" y1="508" x2="445" y2="410" stroke="#7c3aed" stroke-width="1.4"/>
  <!-- Librarian → fine payment -->
  <line x1="84" y1="508" x2="445" y2="470" stroke="#7c3aed" stroke-width="1.4"/>
  <!-- Librarian → renewal -->
  <line x1="84" y1="508" x2="445" y2="530" stroke="#7c3aed" stroke-width="1.4"/>
  <!-- Librarian → notifications -->
  <line x1="84" y1="508" x2="445" y2="590" stroke="#7c3aed" stroke-width="1.4"/>

  <!-- Admin → all admin use cases -->
  <line x1="935" y1="273" x2="787" y2="155" stroke="#b45309" stroke-width="1.4"/>
  <line x1="935" y1="273" x2="787" y2="210" stroke="#b45309" stroke-width="1.4"/>
  <line x1="935" y1="273" x2="787" y2="260" stroke="#b45309" stroke-width="1.4"/>
  <line x1="935" y1="273" x2="787" y2="310" stroke="#b45309" stroke-width="1.4"/>
  <line x1="935" y1="273" x2="787" y2="360" stroke="#b45309" stroke-width="1.4"/>
  <line x1="935" y1="273" x2="787" y2="410" stroke="#b45309" stroke-width="1.4"/>
  <line x1="935" y1="273" x2="787" y2="460" stroke="#b45309" stroke-width="1.4"/>

  <!-- ===================== INCLUDE RELATIONSHIPS ===================== -->

  <!-- Issue Book <<include>> Calculate Fine (auto fine on late return is part of return) -->
  <!-- Return Book <<include>> Calculate Fine -->
  <line x1="555" y1="312" x2="460" y2="470" stroke="#6366f1" stroke-width="1.2" stroke-dasharray="5,3"
    marker-end="url(#arrow-include)"/>
  <text x="490" y="400" font-size="10" fill="#6366f1" font-family="Georgia,serif" font-style="italic">«include»</text>
  <!-- label: auto fine calc -->
  <text x="448" y="488" font-size="9.5" fill="#6366f1" font-family="Georgia,serif">(auto fine calc)</text>

  <!-- Request Renewal <<extend>> Approve Renewal -->
  <line x1="445" y1="530" x2="445" y2="530" stroke="none"/>
  <line x1="490" y1="530" x2="445" y2="530" stroke="#f59e0b" stroke-width="1.2" stroke-dasharray="5,3"
    marker-end="url(#arrow-extend)"/>
  <!-- Already same y, draw between the two ellipses -->

  <!-- ===================== INCLUDE: Send Notification on issue/return ===================== -->
  <line x1="555" y1="252" x2="555" y2="568" stroke="#6366f1" stroke-width="1.2" stroke-dasharray="4,3"
    marker-end="url(#arrow-include)"/>
  <text x="560" y="420" font-size="10" fill="#6366f1" font-family="Georgia,serif" font-style="italic">«include»</text>

  <!-- ===================== EXTEND: Request Renewal → Approve Renewal ===================== -->
  <path d="M 380 552 Q 380 610 450 590 Q 500 576 445 552"
    fill="none" stroke="#f59e0b" stroke-width="1.2" stroke-dasharray="5,3"
    marker-end="url(#arrow-extend)"/>
  <text x="392" y="618" font-size="10" fill="#f59e0b" font-family="Georgia,serif" font-style="italic">«extend»</text>

  <!-- ===================== BOTTOM AREA: Search also for unauthenticated ===================== -->
  <ellipse cx="380" cy="650" rx="130" ry="22" fill="#f0fdf4" stroke="#22c55e" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="380" y="655" text-anchor="middle" font-size="12" fill="#166534" font-family="Georgia,serif">Browse Catalog (Guest)</text>

  <!-- Guest icon / note -->
  <text x="215" y="655" font-size="11" fill="#6b7c93" font-family="Georgia,serif" font-style="italic">(no login needed)</text>

  <!-- Search <<extend>> Browse Catalog (Guest) -->
  <line x1="380" y1="628" x2="380" y2="492" stroke="#94a3b8" stroke-width="1.2" stroke-dasharray="4,3"
    marker-end="url(#arrow)"/>
  <text x="386" y="568" font-size="10" fill="#94a3b8" font-family="Georgia,serif" font-style="italic">«extend»</text>

  <!-- ===================== NOTES ===================== -->
  <!-- Note box -->
  <rect x="215" y="690" width="350" height="80" rx="6" fill="#fffbeb" stroke="#fbbf24" stroke-width="1"/>
  <polygon points="549,690 565,690 565,706" fill="#fbbf24"/>
  <text x="225" y="708" font-size="11" fill="#78350f" font-family="Georgia,serif" font-weight="bold">Design Note:</text>
  <text x="225" y="725" font-size="10.5" fill="#78350f" font-family="Georgia,serif">The /admin portal is a completely separate route,</text>
  <text x="225" y="741" font-size="10.5" fill="#78350f" font-family="Georgia,serif">not accessible from /login. Admin credentials are</text>
  <text x="225" y="757" font-size="10.5" fill="#78350f" font-family="Georgia,serif">managed independently for security isolation.</text>

  <!-- Second note: roles at login -->
  <rect x="580" y="630" width="190" height="68" rx="6" fill="#eff6ff" stroke="#3b82f6" stroke-width="1"/>
  <polygon points="580,630 596,630 580,646" fill="#3b82f6"/>
  <text x="590" y="648" font-size="10.5" fill="#1e40af" font-family="Georgia,serif" font-weight="bold">At /login:</text>
  <text x="590" y="664" font-size="10" fill="#1e40af" font-family="Georgia,serif">Same form for Member &amp;</text>
  <text x="590" y="678" font-size="10" fill="#1e40af" font-family="Georgia,serif">Librarian. Role detected</text>
  <text x="590" y="692" font-size="10" fill="#1e40af" font-family="Georgia,serif">server-side after auth.</text>

</svg>

<div class="legend">
  <div class="legend-item"><div class="legend-dot" style="background:#0f766e"></div> Member</div>
  <div class="legend-item"><div class="legend-dot" style="background:#7c3aed"></div> Librarian</div>
  <div class="legend-item"><div class="legend-dot" style="background:#b45309"></div> Administrator</div>
  <div class="legend-item">
    <svg width="32" height="10"><line x1="0" y1="5" x2="32" y2="5" stroke="#6366f1" stroke-width="1.5" stroke-dasharray="4,2"/></svg>
    «include» relationship
  </div>
  <div class="legend-item">
    <svg width="32" height="10"><line x1="0" y1="5" x2="32" y2="5" stroke="#f59e0b" stroke-width="1.5" stroke-dasharray="4,2"/></svg>
    «extend» relationship
  </div>
  <div class="legend-item">
    <svg width="32" height="10"><line x1="0" y1="5" x2="32" y2="5" stroke="#94a3b8" stroke-width="1.5" stroke-dasharray="4,2"/></svg>
    generalization
  </div>
</div>

<p class="note">Library Management System · SE Semester Project · Use Case Diagram v1.0</p>

</body>
</html>
